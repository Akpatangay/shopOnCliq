<login-directive></login-directive>
<main-nav ng-if="loggedIn"></main-nav>
<div class="container jumbotron" ng-if="loggedIn">
    <p id="sign" style="margin-top: 0"><u>Your Cart Details</u></p>
    <br/>
    <div class="row">
        <div class="clearfix" style="margin-left: 3%;" ng-repeat="item in cart.cItems" ng-if="cart.cItems.length">
            <div class="box">
                <div>
                    <input type="button" class="btn btn-primary btn-small botx" value="&#10006;" ng-click="cart.deleteFromCart(item.productId)" />
                    <!-- <span class="tooltiptext">Remove from cart</span> -->
                </div>
                <div style="margin-top: 2%;">
                    <img class="img imgc card-img-top list-group-item" src="{{item.productImage}}" alt="Card image">
                    <div>
                        <p class="cart-name" id="cname"><u><b>{{item.productName}}</b></u></p>
                        <p class="card-txt car">({{item.productCategory}})</p>
                        <p class="card-txt car"><u>Price - {{item.productPrice | currency:"&#8377;"}}</u></p>
                        <p class="card-txt car"><b>Added On - {{item.addedOn | date : 'medium'}}</b></p>
                        <p class="card-txt car">Qty - {{item.quantity}}</p>
                        <p class="card-txt car"><b>Sub Total - {{item.productPrice * item.quantity | currency : '&#8377; '}}</b></p>
                        <form id='myform' ng-submit="cart.reduceFromCart(item.productId, item.quantity)" style="width: 20% ">
                            <input type='submit' class="btn btn-default sub" value='Reduce' class='qtyminus' field='quantity' />
                            <input type='text' name='quantity' placeholder="{{item.quantity}}" ng-model="item.quantity" class='qty' id="qty" />
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div ng-show="!cart.cItems.length">
            <p style="text-align: center; font-size: 120% !important; font-family: fantasy;">Your cart is empty!</p>
        </div>
    </div>
</div>
<div class="lft" ng-if="loggedIn">
    <div class="col-xs-6 col-sm-3 col-md-4">
        <a ng-href="#!/" type="button" style="width: 100%; margin-left: 0 !important; margin-bottom: 10%;" class="btn btn-default sub">Back</a>
    </div>
    <div class="col-xs-6 col-sm-3 col-md-4">
        <input type="button" style="width: 100%; margin-left: 0 !important; margin-bottom: 10%;" class="btn btn-default sub" ng-click="cart.orderFromCart()" value="Place Order" />
    </div>
    <div class="col-xs-6 col-sm-3 col-md-4">
        <input type="button" style="width: 100%; margin-left: 0 !important; margin-bottom: 10%;" class="btn btn-default sub" ng-click="cart.clearCart()" value="Clear Cart" />
    </div>
</div>